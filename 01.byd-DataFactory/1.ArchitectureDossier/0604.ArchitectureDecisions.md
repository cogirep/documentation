# AD-BYD-DF-004 : MinIO Server / MinIO S3 Gateway est la passerelle retenue pour l'accès à Azure Blob Storage

## Décision d'architecture

|Identifiant|Décision d'architecture|Domaine|Date|Comité|
|---|---|---|---|---|
|**AD-004**|MinIO Server / MinIO S3 Gateway est la passerelle retenue pour l'accès à Azure Blob Storage|Integration |Juin 2020| Décision Architect + Direction Technique|

## Enjeux

L'enjeux est de fournir un accès via le protocole S3 au services de stockage utilisés par le **SYSTEME**, indépendemment des technologies sous-jacentes.
Sur Azure, le service Azure Blob Storage n'est pas compatbile S3. Il est nécessaire de mettre en oeuvre une passerelle S3.

## Hypothèses

### Alternatives

#### Alternative 01 - MinIO Server

La solution a été testée sur une autre solution de Sixense (Beyond Monitoring).
Elle est déployée sous forme de container dans un cluster Kubernetes, via le Helm Chart fourni par MinIO.

**Avantages :**

- La solution est disponible sous forme de service managé et peut être mise en container Docker (multiple choix de déploiement si besoin)
- La solution répond favorablement aux critères de sélection des composants de la Direction Technique de Sixense

**Inconvénients :**

RAS

### Recommandation

Alternative 01 - utiliser MinIO Server / MinIO S3 Gateway comme passerelle S3 -> Azure Blob Storage

### Justification

Cette alternative présente les qualités suivantes :

- Portabilité de la solution sur les différents environnements cloud
- Solution Validée par la Direction Technique

### Implications

La solution sera déployée sous sa forme containerisée.

### Décisions d'architecture liées

![AD-BYD-DF-002 : Exposition des zones de stockage de données suivant le protocole et l'api S3](./0602.ArchitectureDecisions.md)
