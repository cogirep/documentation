# Modèle de composants


## Vue statique
![Composants logiciels](./images/0401.CompoModel.png)

### Paquets et Composants

L'hyperviseur peut être décomposé en sous-systèmes et représenté dans un diagramme de paquets présentant les dépendances entre paquets.

#### Paquets

![Composants logiciels](./images/0400.CompoModel.png)



|**Paquet**|Description|
|---|---|
|**Client WEB**|Ensemble des composants mis en place sur le client WEB (navigateur internet) de l'utilisateur. Par exemple : Rafraichissement asynchrone, Récupération de données, Parallélisation de traitements.|
|**Front-End (Serveur) WEB**|Ensemble des composants mis en place sur le serveur pour connecter les clients WEB : Contenu graphique, données...|
|**Services 'Metier'**|Ensemble des composants implementant les services métier: Récupération/Insertion de la donnée, processus métier |
|**Stockage des données**|Composant permettant la sauvegarde des données|
|**Integration Tiers externes**|Mécanisme d'exposition de la plateforme pour s'interfacer avec des tiers externes|



#### Composants

![Composants logiciels](./images/0403.CompoModel.png)

|**Paquet**|Composant|Détail|Rôle|Responsabilités|
|---|:---:|---|---|---|
|_Services 'Métier'_|**Sécurité (Univers, Profils et Permissions)**|[Sécurité](./0501.ComponentsModel.md)|Gestion des profils et permission de la plateforme|Récupère le profil de l'utilisateur et les permissions associées.|
|_Services 'Métier'_|**Audit et Traçabilité**|[Tracabilité](./0502.ComponentsModel.md)|Gestion des évènements "métier" de la plateforme|Expose un mécanisme de capture des évènements "métier" de la plateforme à des fins de traçabilité|
|_Accès aux données_|**Journalisation**|[Journalisation](./0503.ComponentsModel.md)|Gestion des évènements techniques de la plateforme|Mécanisme de journalisation des évènements|
|_Client WEB_|**Web Client Manager**||Gestion de la page coté "Client"|Maitrise de la construction et de la mise a jour de la page affichée, Traitement des évènements envoyés par la GUI, Récupération des données auprès du composant DataManager|
|_Client WEB_|**Web Client GUI Renderer**||Affichage de la page|Affichage de la page Web, Envoi des évènements (Appels asynchrones de rafraichissement…) au WebClient Mgr|
|_Client WEB_|**Web Client DataManager**||Accès aux données sur le client|Envoi et récupération des données à afficher (structure, ressources statiques, données "métier")|
|_Front-End (Serveur) WEB_|**Web Resource Manager**||Gestion des ressources à envoyer au client|Fourni au client Web les resources statiques et dynamiques pour construire la page, ainsi que les données "métier" (bidirectionnelle)|
|_Front-End (Serveur) WEB_|**Static Web Resource Manager**||Gestion des ressources statiques|Gestion des ressources statiques (image, icone, feuille de style)|
|_Front-End (Serveur) WEB_|**Dynamic Web Resource Manager**||Gestion des ressources dynamiques|Gestion des ressources dynamiques (structure de la page) |
|_Services 'Métier'_|**Business Service \n Geospatial Data Viz" as BS1**||Univers Hyperviseur|Logique "métier" de l'univers Hyperviseur|
|_Services 'Métier'_|**Component "Business Service \n DashBoard and Report" as BS2**||Univers Dashboard|Logique "métier" de l'univers Dashboard|
|_Accès aux données_|**Interface - Business Events**||Mise en œuvre d'un format Pivot||
|_Accès aux données_|**Interface - Actifs**||Mise en œuvre d'un format Pivot||
|_Accès aux données_|**Interface - Taches**||Mise en œuvre d'un format Pivot||
|_Accès aux données_|**Interface - Orga**||Mise en œuvre d'un format Pivot||
|_Stockage des données_|**Data - Business Events**||Persistence des données|Stockage des évènements utilisateurs de la plateforme|
|_Stockage des données_|**Data - Business Data**||Persistence des données|Stockage des données "métier" (récupérées des autres lots, générées par le SYSTÈME)|
|_Stockage des données_|**Data -  Configuration**||Persistence des données|Stockage des données de configuration|
|_Stockage des données_|**Data - Technical (log...) **||Persistence des données|Stockage des données techniques (journalisation)|
|_Integration Tiers externes_|**LOT #1 - Demi Interface - Ingestion (feeder)**||Exposition API|API d'ingestion des données externes issues du Lot#1|
|_Integration Tiers externes_|**LOT #2 - Demi Interface - Ingestion (feeder)**||Exposition API|API d'ingestion des données externes issues du Lot#2|
|_Integration Tiers externes_|**LOT #3 - Demi Interface - Ingestion (feeder)**||Exposition API|API d'ingestion des données externes issues du Lot#3|
|_Integration Tiers externes_|**LOT #4 - Demi Interface - Ingestion (feeder)**||Exposition API|API d'ingestion des données externes issues du Lot#4|
|_Integration Tiers externes_|**LOT #GED - Demi Interface - Ingestion (feeder)**||Exposition API|API d'ingestion des données externes issues du Lot GED|

> Remarque : Certain composants mentionnés ne sont pas représentés dans le schema pour en simplifier la lecture


## Vue dynamique

### Diagramme de processus

#### Authentification (SSO)

![Diagramme d'activité](images/0501.CompoModel.png)

#### Gestion des permissions

##### Création

![Diagramme d'activité](images/activite/POST-permissions.png)

##### Lecture

##### Toutes les permissions

![Diagramme d'activité](images/activite/GET-permissions.png)

##### Une permission

![Diagramme d'activité](images/activite/GET-permissions-{permissionCode}.png)

##### Mise à jour

![Diagramme d'activité](images/activite/PUT-permissions.png)

##### Suppression

N/A : Pas de suppression physique

#### Gestion des entités

##### Création

![Diagramme d'activité](images/activite/POST-entities.png)

##### Lecture

##### Toutes les entités

![Diagramme d'activité](images/activite/GET-entities.png)

##### Une entité

![Diagramme d'activité](images/activite/GET-entities-{acronym}.png)

##### Mise à jour

![Diagramme d'activité](images/activite/PUT-entities.png)

##### Suppression

N/A : Pas de suppression physique

##### Liaison avec les compagnies

![Diagramme d'activité](images/activite/PUT-entities-{entity-acronym}-bind-companies-{company-acronym}.png)


####Gestion des compagnies

##### Création

![Diagramme d'activité](images/activite/POST-companies.png)

##### Lecture

##### Toutes les compagnies

![Diagramme d'activité](images/activite/GET-companies.png)

##### Une compagnie

![Diagramme d'activité](images/activite/GET-companies-{acronym}.png)

##### Mise à jour

![Diagramme d'activité](images/activite/PUT-companies.png)

##### Suppression

N/A : Pas de suppression physique

#### Gestion des actifs/Taches (DataFeeder)

##### Création

![Diagramme d'activité](images/activite/POST-assets.png)

##### Mise à jour

![Diagramme d'activité](images/activite/PUT-assets.png)
